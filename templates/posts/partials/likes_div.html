
<div id="likesarea">
    <button hx-post="{% url 'like_toggle' post.id %}" id="like-button" 
          hx-target="#likesarea" hx-swap="outerHTML">
          {% if request.user in post.likes.all %}
          <i class="fa-solid fa-heart red"></i>
          {% else %}
          <i class="fa-regular fa-heart"></i>
          {% endif %}
        </button>
    <span class="post-engagement">{{ post.total_likes }}</span>
</div>

{% block scripts %}

<script>
    
    document.body.addEventListener('htmx:configRequest', (e) => {
      e.detail.headers['X-CSRFToken'] = '{{ csrf_token }}';
      })
  </script>
{%endblock%}